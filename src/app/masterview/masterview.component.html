<p-toast></p-toast>

<div class="row">
    <div class="col-3">
        <h4>Pending Requests:</h4>
    </div>
    <div class="col-lg-5 col-md-4 col-sm-3">
        <form [formGroup]="searchGroup">
            <input formControlName="search" />
        </form>
    </div>
    <div class="col-3 ms-auto">
      <select (change)="getSortedList($event)" name="" id="">
        <option value="" disabled selected hidden>SORT BY</option>
        <option value="lth">Price : Low to High</option>
        <option value="htl">Price : High to Low</option>
        <option value="nasc">Name : Ascending Order</option>
        <option value="ndesc">Name : Descending Order</option>
      </select>
    </div>
  </div>
<table class="table table-dark">
    <thead>
        <tr>
            <th>Registration No</th>
            <th>Brand</th>
            <th>year</th>
            <th>Model</th>
            <th>Fuel Type</th>
            <th>Price</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let car of collection |sort : [sortParam,sortOrder] | paginate: { itemsPerPage: 10, currentPage: p }">
            <td>{{car.registrationNo}}</td>
            <td>{{car.brand}}</td>
            <td>{{car.year}}</td>
            <td>{{car.model}}</td>
            <td>{{car.fuelType}}</td>
            <td>{{car.price | currency : "INR" : "symbol" : "3.0"}}</td>
            <td><button (click)="claimCar(car)" class="btn btn-info font-bold">Pay&Claim</button> &nbsp; &nbsp; <button (click)="confirmDelete(car)" class="btn btn-danger font-bold">Decline</button></td>
        </tr>
    </tbody>

</table>
<ul>
  </ul>
<pagination-controls (pageChange)="p = $event"></pagination-controls>

<p-dialog header="Confirm Decline" [(visible)]="visible" [style]="{width: '50vw'}">
    <div class="row">
        <div class="col-3">
            <img src="{{'https://localhost:44304/'+deletedCar.carImg}}" alt=""  srcset="">
        </div>
        <div class="col-3">
            <h6>{{deletedCar.brand+'\t'+ deletedCar.model}}</h6>
            <h6>{{deletedCar.price}}</h6>
        </div>
        <div class="col-3">
            <button (click)="deleteCar(deletedCar.carId)" class="btn-danger btn font-bold">Confirm</button>
        </div>
    </div>
</p-dialog>